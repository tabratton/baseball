{{page-title "League Leaders"}}

<div class="league-leaders h-home w-screen p-4 overflow-auto">
  <div class="bg-stone-800 mt-4 flex items-center flex-col p-4 rounded">
    <PowerSelect
      @triggerClass="w-[420px]"
      @search={{perform this.searchCategories}}
      @searchEnabled={{true}}
      @options={{this.categories}}
      @selected={{this.selectedCategory}}
      @onChange={{this.updateCategory}}
      @placeholder="Select a category"
      as |category|
    >
      {{category.label}} ({{category.categoryLabel}})
    </PowerSelect>
    <div class="mt-4">
      {{#if this.model.allLeaders.length}}
        <Table::Sortable
          class="border-collapse border border-white border-opacity-50 mb-4"
          @items={{this.model.allLeaders}}
          @headers={{this.headers}}
          ...attributes
        >
          <:header as |h|>
            <h.Header class={{h.header.class}}>
              {{h.header.label}}
            </h.Header>
          </:header>
          <:row as |row|>
            <row.Row class={{if (eq (mod row.index 2) 0) 'bg-stone-700' 'bg-stone-800'}}>
              <row.Cell class="border-r-0">
                <LinkTo @route="player" @model={{row.item.american.person.id}}>
                  {{row.item.american.person.fullName}}
                </LinkTo>
              </row.Cell>
              <row.Cell class="border-l-0">
                {{row.item.american.value}}
              </row.Cell>
              <row.Cell>{{row.item.rank}}</row.Cell>
              <row.Cell class="border-r-0">{{row.item.national.value}}</row.Cell>
              <row.Cell class="border-l-0">
                <LinkTo @route="player" @model={{row.item.national.person.id}}>
                  {{row.item.national.person.fullName}}
                </LinkTo>
              </row.Cell>
            </row.Row>
          </:row>
        </Table::Sortable>
      {{/if}}
    </div>
  </div>
</div>
